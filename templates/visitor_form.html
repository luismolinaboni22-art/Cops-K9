<!DOCTYPE html>
<html>
<head>
    <title>Registro de Visitantes</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

<div class="header">Registro de Visitantes</div>

<div class="container">

    <div class="contador">
        Visitantes dentro: {{ dentro }}
    </div>

    <form action="/registro" method="POST">
        <input type="text" name="nombre" placeholder="Nombre completo" required>
        <input type="text" name="cedula" placeholder="Cédula" required>
        <input type="text" name="empresa" placeholder="Empresa" required>
        <input type="text" name="responsable" placeholder="Responsable de ingreso" required>
        <input type="text" name="placa" placeholder="Placa" required>
        <input type="text" name="motivo" placeholder="Motivo" required>

        <button class="btn">Registrar Ingreso</button>
    </form>

    <h3>Visitantes Registrados</h3>

    <table>
        <tr>
            <th>Nombre</th>
            <th>Cédula</th>
            <th>Ingreso</th>
            <th>Salida</th>
            <th></th>
        </tr>

        {% for v in visitors %}
        <tr>
            <td>{{ v.nombre }}</td>
            <td>{{ v.cedula }}</td>
            <td>{{ v.hora_ingreso }}</td>
            <td>{{ v.hora_salida or "-" }}</td>
            <td>
                {% if v.hora_salida is none %}
                <a href="/salida/{{ loop.index0 }}" class="btn-danger btn">Salida</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>

    <a href="/home" class="btn" style="margin-top:20px;">Volver al Menú</a>

</div>

</body>
</html>

